(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9390"],{"8SHQ":function(e,t,s){"use strict"},"A1/j":function(e,t,s){"use strict";var o=s("oid6");s.n(o).a},Cl1Y:function(e,t,s){},c11S:function(e,t,s){"use strict";var o=s("Cl1Y");s.n(o).a},nZny:function(e,t,s){},ntYl:function(e,t,s){"use strict";s.r(t);var o=s("gDS+"),n=s.n(o),r=s("YEIV"),i=s.n(r),a=s("Yfch"),c=s("fe1z"),l=s("p46w"),p=s.n(l),g=s("v0iw"),u=(s("8SHQ"),s("xiB2")),d={name:"Login",data:function(){var e;return e={title:"",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,t,s){Object(a.b)(t)?s():s(new Error("请输入正确的用户名"))}}],password:[{required:!0,trigger:"blur",validator:function(e,t,s){t.length<5?s(new Error("密码不能小于5位")):s()}}]},loading:!1,pwdType:"password",redirect:void 0,checked:!1,imgsrc:s("wShP"),logosrc:"",backgroundsrc:s("tAyx")},i()(e,"redirect",void 0),i()(e,"routes",[]),i()(e,"pwdType","password"),e},methods:{getTitle:function(){var e=this,t=window.location.pathname;t=""==(t=t.slice(5,t.length))?"develop":t,g.Parse.User.logOut(),Object(c.b)(t).then(function(s){e.title=s.title,e.logosrc=s.logo,sessionStorage.setItem("product_title",s.title),sessionStorage.setItem("dashboard",s.dashboard),sessionStorage.setItem("imgsrc",s.logo),sessionStorage.setItem("copyright",s.copyright),sessionStorage.setItem("roletype",t)})},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loginForm;g.Parse.User.logIn(e.loginForm.username,e.loginForm.password).then(function(t){Object(u.c)(t.attributes.sessionToken),p.a.set("sessionToken",t.attributes.sessionToken);var s=g.Parse.Object.extend("Navigation");new g.Parse.Query(s).find().then(function(s){s.map(function(t){t.attributes.parent&&e.routes.push(t)}),sessionStorage.setItem("username",t.attributes.username),sessionStorage.setItem("roles",t.attributes.roles[0].alias),sessionStorage.setItem("list",n()(e.routes)),sessionStorage.setItem("token",t.attributes.sessionToken),sessionStorage.setItem("type","vcon"),e.$router.push({path:e.redirect||"/dashboard"})})}).catch(function(t){101==t.code?e.$message({type:"warning",message:"用户名或密码错误"}):e.$message({type:"warning",message:"服务器未连接"})})})},register:function(){this.$router.push({path:"/register"})},phonelogin:function(){this.$router.push({path:"/phonelogin",query:{action:"login"}})}},created:function(){this.getTitle()}},h=(s("c11S"),s("riF6"),s("A1/j"),s("KHd+")),f=Object(h.a)(d,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"loginbanner"},[s("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,"auto-complete":"on","label-position":"left"}},[s("div",{staticClass:"logo"},[s("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.logosrc,alt:"logo"}}),e._v(" "),s("p",[e._v(e._s(e.title))])]),e._v(" "),s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),s("el-input",{attrs:{name:"username",type:"text","auto-complete":"on",placeholder:"请输入手机号/用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticClass:"svg-container"},[s("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),s("el-input",{attrs:{name:"password","auto-complete":"on",placeholder:"请输入密码",type:e.pwdType},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),s("div",{staticStyle:{"margin-bottom":"20px",height:"30px","line-height":"30px"}},[s("el-checkbox",{staticStyle:{float:"left",color:"#409EFF"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#409EFF","font-size":"14px",cursor:"pointer"},on:{click:e.register}},[e._v("注册用户")]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#409EFF","font-size":"14px",cursor:"pointer","margin-right":"20px"},on:{click:e.phonelogin}},[e._v("手机号登录")])],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{width:"100%","letter-spacing":"10px"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登陆")])],1)],1)],1)])},[],!1,null,"453fbda9",null);f.options.__file="index.vue";t.default=f.exports},oid6:function(e,t,s){},riF6:function(e,t,s){"use strict";var o=s("nZny");s.n(o).a},tAyx:function(e,t,s){e.exports=s.p+"static/img/loginbanner.9a61ee6.jpg"},wShP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABPJJREFUWAm1lutvVFUUR6eKChUfFajSCqWhIqAGTIwxGFSMMcb4ivpFYuLfZqLR+Ih+QWNIJAYlBvGDYiNalUeFIiLgs1pAXet69uTMnTPTGVp/yZp7XvfeffbeZ98ZaPSvZdyyJrGa65WwBC4HdRZOwyn4Bv6AnjXQ88pGYx1r74HRPu75h7WH4SBo3LzqxaAxnrINRmpP82V64hewLT5vJVwPdR1nYA/8UJ/I+90MuoyF2+Gu7IaLtKdgEnzBeShpkEHDuRFuhfw9n9DfC26gTfnCfHIpncdgLBv8jPY+6CsnWK+33NQd4CbVd7AL5uzkKhmkMTthKC08x9WbT6b+pV4M+eOwPD3A0L0GLUbFyUhrqh08SeemNGBY3gCNWqh+5QFfwo1wHWjYKvgKmqobdB8zm9OsxrwOLTtIc5d6Mee+BlPhGjAKloyjUCk3yEUPpXE9omfmM2YFazaBibsBPGEm9F/QKeH/Zs4c8p6rYDT1f+fakv3P0R9xEL0M3XJmHfOewGEoydM4Cfvh59ICxgzd82nOaLxqOzw0TvtuB5Cn6fOq1f7jer24A65un26OeJp84Rb4Cc5AXXrEE2geXQs/wpkw6JE06M7ehpK7PZFPgCHKpQfMgRmYBQ2N52qYofTlpYKoEVvBZ/sJOmRCLQPjqKagU53Zxtx6FyX5kt3wbQyk6xVc9cy94PN9mV7VoLpRbsZTtgnGYdAdrIHQZDRqV49phNSpE/Ai1I1x7jwcgFfA5FZhlNe6THDl3IQ7WGsPWcpNrpKstFFlfeE7YHi66RSTHg43E9J79ZN7LCa5DmtQFMHTtH1ZSRPZ4D7anU5OtqxqnuVXuskU8d2WjJXu2mRSfrVLsoAtzyYOZe3FapqPakiD9JIyZCXlx1t3/1ZatMAxT3clDYoj2smgtPR/vVxIT7+oQaHSCXAu3Gnb8Obhc2wxFHZcsBFJZ1KV5Fc6D9PG0qIFjvlNVHMaZIYry7gfxpKmskELZH6Us6m2pp8P61fgJ6Iuc9h3qxkNsl6EogREP66f0vArrawlj4IVvptuYPIZ2J7w666367IwR7pMa5DVNhLaEl6SdWd/NjFC+wXIPyUxrcF+n/yS50bvoR/vodnU5mar0ZjWXSbtERgHd/EhlAqfBXEVhBGWg6fSWv+qWBKsWRobtY1mpff5/T6184sGT6SB41xn48hbBzRG1zkW3xeaLTKXBsHcCC2l4YFwzFyIZ9Kswvwu14N2CnqAMTegdsO5uNn/K3rIIz0MRyE/WXQr6XKNnQGNyIsm3abMty9gF5Q840K9/TDohBNgZJrJZHs17LSBTL6XwO9MN61gcgw8PYbJULs5DS5tiOFKetV3Df3Xrf67H7OtdbkepHNnGtBLb4HhXEwZladhbXroAa4fpHZLvB3TCGNqLohH0hB1+hfAVF/SMx6EMMb3vQfN0xc5xFglJywD68HkNRQbQHfOFz6WdJU58yxErfML8Sa0bLZuEPNViPyL4Y1WZHe1BUx4/wPPQT/y/vvBBI66pGc05k9o0UBLr7Vj0dwBW7Nh82kSDoNe62Sc994Mt8EtYLEMmTN7wZPYpm4GxeJRGhqW1x7nDK+nyVDqdlkCnjyxncuj/RG4kY7qxSBvdp2F83YYg35kBf4YjvRyU68G5c8ylybAJNUTUUsMp3+0DONJ0BPTMAs9619UBfTrj4xS0AAAAABJRU5ErkJggg=="}}]);