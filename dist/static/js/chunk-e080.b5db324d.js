(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e080"],{"+Oxy":function(e,t,r){"use strict";r.r(t);var a,i,o,n,s,l,c=r("CSPP"),u=r.n(c),d=r("GQeE"),p=r.n(d),m=r("gDS+"),f=r.n(m),g=r("v0iw"),b=r.n(g),v=r("Yh9x"),h=(r("Mld3"),r("URgk")),y=r("lTCR"),_=r.n(y),C=u()(["",""],["",""]),I=r("J66h").Base64,A="",$=!1,w={data:function(){var e=this;return{topicdialogVisible:!1,topicform:{topic:"",type:"",desc:"",isupdated:-1},topicrule:{topic:[{required:!0,message:"请输入Topic类",trigger:"blur"}],type:[{required:!0,message:"请选择Topic权限",trigger:"change"}]},topicstart:1,topiclength:10,topictotal:0,channelData:[],allchannelData:[],innerVisible:!1,allChannelstart:0,allChannellength:10,allChanneltotal:0,category:[],current:0,schemadialogVisible:!1,PropData:[],originwmx:!1,wmxdialogVisible:!1,allunit:[],sizeForm:{resource:1,identifier:"",type:"INT",startnumber:"",endnumber:"",step:"",true:"",truevalue:1,false:"",falsevalue:0,isread:"r",unit:"",string:"",date:"String类型的UTC时间戳 (毫秒)",specs:[{attribute:"",attributevalue:""}],struct:[]},sizerule:{step:[{required:!0,trigger:"blur",validator:function(t,r,a){r>=e.sizeForm.endnumber-e.sizeForm.startnumber?a(new Error("步长必须小于最大值和最小值的差值")):a()}}],string:[{required:!0,trigger:"blur",message:"请输入数据长度"},{type:"number",message:"数据长度必须为数字"}],startnumber:[{validator:function(t,r,a){r>=e.sizeForm.endnumber?a(new Error("最小值小于最大值")):a()},required:!0,trigger:"blur"}],endnumber:[{validator:function(t,r,a){r<=e.sizeForm.startnumber?a(new Error("最大值必须大于最小值")):a()},required:!0,trigger:"blur"}],resource:[{required:!0,message:"请选择功能类型",trigger:"change"}],true:[{required:!0,message:"请输入属性值",trigger:"blur"}],false:[{required:!0,message:"请输入属性值",trigger:"blur"}],name:[{required:!0,message:"请输入属性名称",trigger:"blur"}],identifier:[{required:!0,message:"请输入标识符",trigger:"blur"}],type:[{required:!0,message:"请选择数据类型",trigger:"change"}],attribute:[{required:!0,message:"请输入属性",trigger:"blur"}],attributevalue:[{required:!0,message:"请输入属性值",trigger:"blur"}],isread:[{required:!0,message:"请选择读写类型",trigger:"change"}]},structrule:{string:[{required:!0,trigger:"blur",message:"请输入数据长度"},{type:"number",message:"数据长度必须为数字"}],step:[{required:!0,trigger:"blur",validator:function(t,r,a){r>=e.structform.endnumber-e.structform.startnumber?a(new Error("步长必须小于最大值和最小值的差值")):a()}}],startnumber:[{validator:function(t,r,a){r>=e.structform.endnumber?a(new Error("最小值小于最大值")):a()},required:!0,trigger:"blur"}],endnumber:[{validator:function(t,r,a){r<=e.structform.startnumber?a(new Error("最大值必须大于最小值")):a()},required:!0,trigger:"blur"}],resource:[{required:!0,message:"请选择功能类型",trigger:"change"}],true:[{required:!0,message:"请输入属性值",trigger:"blur"}],false:[{required:!0,message:"请输入属性值",trigger:"blur"}],name:[{required:!0,message:"请输入属性名称",trigger:"blur"}],identifier:[{required:!0,message:"请输入标识符",trigger:"blur"}],type:[{required:!0,message:"请选择数据类型",trigger:"change"}],attribute:[{required:!0,message:"请输入属性",trigger:"blur"}],attributevalue:[{required:!0,message:"请输入属性值",trigger:"blur"}],isread:[{required:!0,message:"请选择读写类型",trigger:"change"}]},structdialog:!1,structform:{resource:1,identifier:"",type:"INT",startnumber:"",endnumber:"",step:"",true:"",truevalue:1,false:"",falsevalue:0,isread:"r",unit:"",date:"String类型的UTC时间戳 (毫秒)",string:"",specs:[]},tableData:[],activeName:"first",form:{Productname:"",ProductKey:"",ProductAll:0},ProductSecret:"",dynamicReg:!1,productId:"",productdetail:{},topicData:[],topic:[{topic:"thing/${ProductId}/${DevAddr}/post",type:"pub",desc:"设备上报",isdef:!0},{topic:"thing/${ProductId}/${DevAddr}",type:"sub",desc:"消息下发",isdef:!0}],isshow:!1,addRules:{name:[{required:!0,message:"请输入协议名称",trigger:"blur"},{validator:function(e,t,r){/[0-9a-zA-Z]/.test(t)?r():r(new Error("协议名称由数字和字母组合"))},trigger:"blur"}]},dialogTableVisible:!1,gridData:[],formInline:{name:"",version:"",desc:"",resource:!1},objectId:"",option:[],CategoryKey:"",productstart:0,productlength:10,producttotal:0,wmxstart:1,wmxlength:10,wmxtotal:20,wmxData:[],warningeditror:[],channellength:10,channelstart:0,channeltotal:0,isupdatedstruct:-1}},computed:{treeData:function(){var e=JSON.parse(f()(this.option));return e.filter(function(t){var r=e.filter(function(e){return t.id==e.parentid});return r.length>0&&(t.children=r),0==t.parentid})}},mounted:function(){(o=ace.edit("editor2")).session.setMode("ace/mode/json"),o.setTheme("ace/theme/monokai"),o.setReadOnly(!0),o.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),(n=ace.edit("editor4")).session.setMode("ace/mode/graphqlschema"),n.setTheme("ace/theme/monokai"),n.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),n.setValue(""),(s=ace.edit("editor5")).session.setMode("ace/mode/json"),s.setTheme("ace/theme/gob"),s.setReadOnly(!0),s.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),s.setValue(""),this.Industry(),this.getAllunit()},methods:{getRowClass:function(e,t){if("struct"!=e.row.dataType.type)return"row-expand-cover"},handleClick:function(e){"fiveth"==e.name?this.getProductChannel():"second"==e.name&&this.getTopic()},getAllunit:function(){var e=this;this.allunit=[];var t=b.a.Object.extend("Datas"),r=new b.a.Query(t);r.equalTo("type","unit"),r.limit(1e3),r.find().then(function(t){e.allunit=t.concat([]),e.allunit.unshift({attributes:{data:{Name:"无",Symbol:""}}})},function(t){e.$message.error(t.message)})},getTopic:function(){var e=this,t=b.a.Object.extend("Product");new b.a.Query(t).get(this.productId).then(function(t){t&&(e.topicData=t.attributes.topics.concat(e.topic))},function(t){e.$message({type:"error",message:t.message})})},getProductChannel:function(){var e=this,t=b.a.Object.extend("Channel"),r=new b.a.Query(t),a=new(b.a.Object.extend("Product"));a.id=this.productId,r.equalTo("product",a),r.skip(this.channelstart),r.limit(this.channellength),r.ascending("-updatedAt"),r.count().then(function(t){e.channeltotal=t,r.find().then(function(t){e.channelData=t,$=0==t.length})})},addProductChannel:function(e){var t=this,r=new(b.a.Object.extend("Channel"));r.id=e;var a=r.relation("product"),i=new(b.a.Object.extend("Product"));i.set("objectId",this.productId),a.add(i),r.save().then(function(e){e&&(t.$message({type:"success",message:"添加成功"}),t.showAllChannel(),t.getProductChannel())},function(e){t.$message({type:"error",message:e.message})})},deleteRelation:function(e){var t=this,r=new(b.a.Object.extend("Channel"));r.id=e.id;var a=r.relation("product"),i=new(b.a.Object.extend("Product"));i.set("objectId",this.productId),a.remove(i),r.save().then(function(e){e&&(t.$message({type:"success",message:"删除成功"}),t.getProductChannel())},function(e){t.$message({type:"error",message:e.message})})},channelSizeChange:function(e){this.channellength=e,this.getProductChannel()},channelCurrentChange:function(e){this.channelstart=(e-1)*this.channellength,this.getProductChannel()},showAllChannel:function(){var e=this;this.innerVisible=!0;var t=b.a.Object.extend("Channel"),r=new b.a.Query(t),a=new(b.a.Object.extend("Product"));a.id=this.productId,r.skip(this.allChannelstart),r.limit(this.allChannellength),r.ascending("-updatedAt"),$||r.notEqualTo("product",a),r.count().then(function(t){e.allChanneltotal=t,r.find().then(function(t){e.allchannelData=t})})},allChannelSizeChange:function(e){this.allChannellength=e,this.showAllChannel()},allChannelCurrentChange:function(e){this.allChannelstart=(e-1)*this.allChannellength,this.showAllChannel()},removeDomain:function(e){var t=this.sizeForm.specs.indexOf(e);-1!==t&&this.sizeForm.specs.splice(t,1)},addDomain:function(){this.sizeForm.specs.push({value:"",name:""})},removeDomain1:function(e){var t=this.structform.specs.indexOf(e);-1!==t&&this.structform.specs.splice(t,1)},addDomain1:function(){this.structform.specs.push({value:"",name:""})},submitForm:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return console.log(r),console.log("error submit!!"),!1;var a={},i=b.a.Object.extend("Product");new b.a.Query(i).get(t.productId).then(function(r){if("FLOAT"==t.sizeForm.type||"DOUBLE"==t.sizeForm.type||"INT"==t.sizeForm.type)a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase(),specs:{max:t.sizeForm.endnumber,min:t.sizeForm.startnumber,step:t.sizeForm.step,unit:""==t.sizeForm.unit?"":t.sizeForm.unit}},required:!0,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier};else if("BOOL"==t.sizeForm.type)a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase(),specs:{0:t.sizeForm.false,1:t.sizeForm.true}},required:!1,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier};else if("ENUM"==t.sizeForm.type){var i={};t.sizeForm.specs.map(function(e){var t=e.attribute;i[t]=e.attributevalue}),a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase(),specs:i},required:!0,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier}}else"STRUCT"==t.sizeForm.type?a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase(),specs:t.sizeForm.struct},required:!0,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier}:"STRING"==t.sizeForm.type?a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase(),size:t.sizeForm.string},required:!0,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier}:"DATE"==t.sizeForm.type&&(a={name:t.sizeForm.name,dataType:{type:t.sizeForm.type.toLowerCase()},required:!0,accessMode:t.sizeForm.isread,identifier:t.sizeForm.identifier});t.productdetail.thing.properties.unshift(a),r.set("thing",t.productdetail.thing),r.save().then(function(r){r&&(t.$message({type:"success",message:"添加成功"}),t.getProDetail(),t.$refs[e].resetFields(),t.wmxdialogVisible=!1)})})})},submitStruct:function(e){var t=this;this.$refs[e].validate(function(r){if(r){var a={};if("FLOAT"==t.structform.type||"DOUBLE"==t.structform.type||"INT"==t.structform.type)a={name:t.structform.name,dataType:{type:t.structform.type.toLowerCase(),specs:{max:t.structform.endnumber,min:t.structform.startnumber,step:t.structform.step,unit:""==t.structform.unit?"":t.structform.unit}},required:!0,accessMode:t.structform.isread,identifier:t.structform.identifier};else if("BOOL"==t.structform.type)a={name:t.structform.name,dataType:{type:t.structform.type.toLowerCase(),specs:{0:t.structform.false,1:t.structform.true}},required:!1,accessMode:t.structform.isread,identifier:t.structform.identifier};else if("ENUM"==t.structform.type){var i={};t.structform.specs.map(function(e){var t=e.attribute;i[t]=e.attributevalue}),a={name:t.structform.name,dataType:{type:t.structform.type.toLowerCase(),specs:i},required:!0,accessMode:t.structform.isread,identifier:t.structform.identifier}}else"STRING"==t.structform.type?a={name:t.structform.name,dataType:{type:t.structform.type.toLowerCase(),size:t.structform.string},required:!0,accessMode:t.structform.isread,identifier:t.structform.identifier}:"DATE"==t.structform.type&&(a={name:t.structform.name,dataType:{type:t.structform.type.toLowerCase()},required:!0,accessMode:t.structform.isread,identifier:t.structform.identifier});console.log(a),-1==t.isupdatedstruct?t.sizeForm.struct.push(a):(t.sizeForm.struct.splice(t.isupdatedstruct,1,a),t.isupdatedstruct=-1),t.$refs[e].resetFields(),t.structdialog=!1}})},addStruct:function(e){this.structdialog=!0,this.structform={resource:1,identifier:"",type:"INT",startnumber:"",endnumber:"",step:"",true:"",truevalue:1,false:"",falsevalue:0,isread:"r",unit:"",specs:[],date:"String类型的UTC时间戳 (毫秒)",string:""}},editStruct:function(e,t){var r=this;if(console.log(e,t),this.isupdatedstruct=t,this.structdialog=!0,this.structform.type=e.dataType.type.toUpperCase(),this.structform.name=e.name,this.structform.identifier=e.identifier,this.structform.isread=e.accessMode,"float"==e.dataType.type||"double"==e.dataType.type||"int"==e.dataType.type)this.structform.startnumber=e.dataType.specs.min,this.structform.endnumber=e.dataType.specs.max,this.structform.step=e.dataType.specs.step,this.structform.unit=e.dataType.specs.unit;else if("bool"==e.dataType.type)this.structform.true=e.dataType.specs[1],this.structform.false=e.dataType.specs[0];else if("enum"==e.dataType.type){this.structform.specs=[];var a={};p()(e.dataType.specs).forEach(function(t,i){a.attribute=t,a.attributevalue=e.dataType.specs[t],r.structform.specs.push(a)})}else"string"==e.dataType.type&&(this.structform.string=e.dataType.size)},deleteStruct:function(e){this.sizeForm.struct.splice(e,1)},preserve:function(){var e=this,t=b.a.Object.extend("Product");new b.a.Query(t).get(this.productId).then(function(t){t.set("thing",JSON.parse(i.getValue())),t.save().then(function(t){t&&e.$message({type:"success",message:"保存成功"})},function(t){e.$message({type:"error",message:t.message})})})},Industry:function(){var e=this;this.option=[];var t=b.a.Object.extend("Datas"),r=new b.a.Query(t);r.equalTo("data.key","category"),r.limit(1e3),r.find().then(function(t){t&&(t.map(function(t){var r={};r.value=t.attributes.type,r.label=t.attributes.data.CategoryName,r.id=t.attributes.data.Id,r.parentid=t.attributes.data.SuperId,e.option.push(r)}),e.getProDetail())},function(t){e.$message.error(t.message)})},utc2beijing:function(e){return new Date(+new Date(e)+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")},getPropData:function(e){var t=this;0==e&&(this.productstart=0),this.CategoryKey=this.$route.query.CategoryKey;var r=b.a.Object.extend("Datas"),a=new b.a.Query(r);a.limit(this.productlength),a.skip(this.productstart),0!=this.category.length&&a.equalTo("type",this.category[this.category.length-1]),a.equalTo("data.key","category"),a.count().then(function(e){t.producttotal=e,a.find().then(function(e){t.PropData=e},function(e){console.log(e)})})},productSizeChange:function(e){this.productlength=e,this.getPropData()},productCurrentChange:function(e){this.productstart=(e-1)*this.productlength,this.getPropData()},checkschema:function(){var e=this;this.schemadialogVisible=!0,Object(h.setTimeout)(function(){(i=ace.edit("editor1")).session.setMode("ace/mode/json"),i.setTheme("ace/theme/eclipse"),i.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),i.setValue(f()(e.productdetail.thing,null,4))},1)},getProDetail:function(){var e=this;(a=ace.edit("editor")).session.setMode("ace/mode/erlang"),a.setTheme("ace/theme/monokai"),a.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),(l=ace.edit("editor6")).session.setMode("ace/mode/json"),l.setTheme("ace/theme/twilight"),l.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.productId=this.$route.query.id;var t=b.a.Object.extend("Product");new b.a.Query(t).get(this.productId).then(function(t){if(t){for(var r in t.attributes)e.productdetail[r]=t.attributes[r];e.option.map(function(t){e.productdetail.category==t.value&&(e.productdetail.category=t.label)}),e.productdetail.createdAt=e.utc2beijing(t.createdAt),e.productdetail.id=t.id,e.dynamicReg=t.attributes.dynamicReg,e.productdetail.isshow=0,e.form.Productname=t.attributes.name,e.ProductSecret=t.attributes.productSecret,e.form.Productkey=e.productId,t.attributes.decoder?(A=t.attributes.decoder.code,e.formInline.name=t.attributes.decoder.name,e.formInline.version=t.attributes.decoder.version,e.formInline.desc=t.attributes.decoder.desc):A="JSUlLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQolJSUgQGNvcHlyaWdodCAoQykgMjAxOCwgPHNodXdhPgolJSUgQGRvYwolJSUg5Y2P6K6u6Kej5p6QRGVtbwolJSUgQGVuZAolJSUgQ3JlYXRlZCA6IDA4LiDljYHkuIDmnIggMjAxOCAxNDo0OQolJSUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCi1tb2R1bGUoc2h1d2FfZGVtb19kZWNvZGVyKS4KLWF1dGhvcigic2h1d2EiKS4KLWRlZmluZShNU0dfVFlQRSwgPDwiREVNTyI+PikuCi1wcm90b2NvbChbPDwiREVNTyI+Pl0pLgoKLWV4cG9ydChbcGFyc2VfZnJhbWUvMiwgdG9fZnJhbWUvMV0pLgoKCnBhcnNlX2ZyYW1lKEJ1ZmYsIE9wdHMpIC0+CiAgICBwYXJzZV9mcmFtZShCdWZmLCBbXSwgT3B0cykuCgoKcGFyc2VfZnJhbWUoPDw+PiwgQWNjLCBfT3B0cykgLT4KICAgIHs8PD4+LCBBY2N9OwpwYXJzZV9mcmFtZSg8PDE2IzY4LCBSZXN0L2JpbmFyeT4+ID0gQmluLCBBY2MsIF9PcHRzKSB3aGVuIGJ5dGVfc2l6ZShSZXN0KSA9PCA2IC0+CiAgICB7QmluLCBBY2N9OwpwYXJzZV9mcmFtZSg8PDE2IzY4LCBMZW46MTYvbGl0dGxlLWludGVnZXIsIExlbjoxNi9saXR0bGUtaW50ZWdlciwgMTYjNjgsIFJlc3QvYmluYXJ5Pj4gPSBCaW4sIEFjYywgT3B0cykgLT4KICAgIGNhc2UgYnl0ZV9zaXplKFJlc3QpIC0gMiA+PSBMZW4gb2YKICAgICAgICB0cnVlIC0+CiAgICAgICAgICAgIGNhc2UgUmVzdCBvZgogICAgICAgICAgICAgICAgPDxVc2VyWm9uZTpMZW4vYnl0ZXMsIENyYzo4LCAxNiMxNiwgUmVzdDEvYmluYXJ5Pj4gLT4KICAgICAgICAgICAgICAgICAgICBBY2MxID0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBzaHV3YV91dGlsczpnZXRfcGFyaXR5KFVzZXJab25lKSA9Oj0gQ3JjIG9mCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlIC0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJhbWUgPSAjewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PCJtc2d0eXBlIj4+ID0+ID9NU0dfVFlQRSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPDwiZGF0YSI+PiA9PiBVc2VyWm9uZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjICsrIFtGcmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSAtPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjYwogICAgICAgICAgICAgICAgICAgICAgICBlbmQsCiAgICAgICAgICAgICAgICAgICAgcGFyc2VfZnJhbWUoUmVzdDEsIEFjYzEsIE9wdHMpOwogICAgICAgICAgICAgICAgXyAtPgogICAgICAgICAgICAgICAgICAgIHBhcnNlX2ZyYW1lKFJlc3QsIEFjYywgT3B0cykKICAgICAgICAgICAgZW5kOwogICAgICAgIGZhbHNlIC0+CiAgICAgICAgICAgIHtCaW4sIEFjY30KICAgIGVuZDsKcGFyc2VfZnJhbWUoPDxfOjgsIFJlc3QvYmluYXJ5Pj4sIEFjYywgT3B0cykgLT4KICAgIHBhcnNlX2ZyYW1lKFJlc3QsIEFjYywgT3B0cykuCgoKJSUg57uE6KOF5oiQ5bCB5YyFLCDlj4LmlbDkuLpNYXDlvaLlvI8KdG9fZnJhbWUoI3s8PCJtc2d0eXBlIj4+IDo9ID9NU0dfVFlQRX0gPSBGcmFtZSkgLT4KICAgIFBheWxvYWQgPSB0ZXJtX3RvX2JpbmFyeShGcmFtZSksCiAgICA8PDE2IzAzLCBQYXlsb2FkL2JpbmFyeSwgMTYjMjM+Pi4=",e.productdetail.thing?e.wmxData=e.productdetail.thing.properties.concat([]):(e.productdetail.thing={properties:[]},e.wmxData=e.productdetail.thing.properties.concat([])),a.setValue(I.decode(A)),l.setValue(f()(e.productdetail.thing,null,4));var i=b.a.Object.extend("Devices"),o=new b.a.Query(i);o.equalTo("product",e.productId),o.skip(0),o.count().then(function(t){e.form.ProductAll=t})}},function(t){e.$message({type:"error",message:t.message})})},handelUpdate:function(e,t){var r,a=this;r=1!=e,this.dynamicReg=r;var i=b.a.Object.extend("Product");new b.a.Query(i).get(this.productId).then(function(e){e.set("dynamicReg",!r),e.save().then(function(e){e&&(a.$message({type:"success",message:"修改成功"}),a.dynamicReg=!r)},function(e){a.$message({type:"error",message:e.message})})})},wmxhandleClose:function(){this.wmxdialogVisible=!1},protol:function(){var e=this,t="";Object(v.a)(I.encode(a.getValue())).then(function(r){r&&(e.$message({type:"success",message:"编译成功"}),t="编译成功"+r.mod+"\r\n",e.warningeditror=r.warnings,e.warningeditror.map(function(e){t+=e+"\r\n"}),o.setValue(t))}).catch(function(r){e.warningeditror=r.error,e.warningeditror.map(function(e){t+=e+"\r\n"}),o.setValue(t)})},subAce:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r={name:t.formInline.name,version:t.formInline.version,code:I.encode(a.getValue()),desc:t.formInline.desc},i=b.a.Object.extend("Product");new b.a.Query(i).get(t.productId).then(function(e){e.set("decoder",r),e.save().then(function(e){t.$message({type:"success",message:"保存成功"})})})}else t.$message({type:"warning",message:"输入格式有误"})})},chaxun:function(){var e=this,t=b.a.Object.extend("Datas"),r=new b.a.Query(t);r.equalTo("type","decoder"),r.ascending("-createdAt"),r.find().then(function(t){t&&(e.dialogTableVisible=!0,e.gridData=t)})},editordata:function(e){this.formInline.name=e.attributes.data.name,this.formInline.version=e.attributes.data.version,this.formInline.desc=e.attributes.data.desc,this.formInline.resource=e.attributes.data.enable,a.setValue(I.decode(e.attributes.data.code)),this.dialogTableVisible=!1},goToDevices:function(){this.$router.push({path:"/roles/thing",query:{productid:this.productId}})},addcategory:function(){this.originwmx=!0,this.getPropData()},handleChange:function(e,t,r){console.log(e,t,r)},TypeInstall:function(e,t){console.log(t),t.map(function(t,r){if("enum"==t.DataType||"bool"==t.DataType)(a={dataType:{specs:{}}}).name=t.Name,a.dataType.type=t.DataType,a.required=t.Required,a.identifier=t.Identifier,a.accessMode=1==t.RwFlag?"r":"rw",JSON.parse(t.DataSpecsList).map(function(e){for(var t in e){var r=e.value,i=e.name;a.dataType.specs[r]=i}}),e.push(a);else if("double"==t.DataType||"int"==t.DataType||"float"==t.DataType){var a={dataType:{specs:{}}};for(var i in a.name=t.Name,a.dataType.type=t.DataType,a.required=t.Required,a.identifier=t.Identifier,a.accessMode=1==t.RwFlag?"r":"rw",JSON.parse(t.DataSpecs))a.dataType.specs.min=JSON.parse(t.DataSpecs).min,a.dataType.specs.max=JSON.parse(t.DataSpecs).max,a.dataType.specs.step=JSON.parse(t.DataSpecs).step,a.dataType.specs.unit=JSON.parse(t.DataSpecs).unit;e.push(a)}else if("struct"==t.DataType){var o={dataType:{specs:[]}};o.name=t.Name,o.dataType.type=t.DataType,o.required=!t.Required,o.identifier=t.Identifier,o.accessMode=1==t.RwFlag?"r":"rw",JSON.parse(t.DataSpecsList).map(function(e){if("ENUM"==e.childDataType||"BOOL"==e.childDataType)(t={dataType:{specs:{}}}).name=e.childName,t.dataType.type=e.childDataType.toLowerCase(),t.required=e.Required,t.identifier=e.identifier,t.accessMode=1==e.RwFlag?"r":"rw",e.childEnumSpecsDTO.map(function(e){for(var r in e){var a=e.value,i=e.name;t.dataType.specs[a]=i}}),o.dataType.specs.push(t);else if("DOUBLE"==e.childDataType||"INT"==e.childDataType||"FLOAT"==e.childDataType){var t={dataType:{specs:{}}};for(var r in t.name=e.childName,t.dataType.type=e.childDataType.toLowerCase(),t.required=e.Required,t.identifier=e.identifier,t.accessMode=1==e.RwFlag?"r":"rw",e.childSpecsDTO)t.dataType.specs.min=e.childSpecsDTO.min,t.dataType.specs.max=e.childSpecsDTO.max,t.dataType.specs.step=e.childSpecsDTO.precise,t.dataType.specs.unit=e.childSpecsDTO.unit;o.dataType.specs.push(t)}}),e.push(o)}});var r={};e=e.reduce(function(e,t){return!r[t.identifier]&&(r[t.identifier]=e.push(t)),e},[])},addProCategory:function(e){var t=this,r=b.a.Object.extend("Product"),a=new b.a.Query(r),i=b.a.Object.extend("Datas"),o=new b.a.Query(i);o.equalTo("type",e.attributes.type),o.equalTo("data.key","detail"),o.find().then(function(e){e.length&&(e[0].attributes.data.Ability?(t.TypeInstall(t.productdetail.thing.properties,e[0].attributes.data.Ability),a.get(t.productId).then(function(e){e.set("thing",t.productdetail.thing),e.save().then(function(e){t.$message({type:"success",message:"添加成功"}),t.getProDetail()})})):console.log("此选项没有属性功能"))})},deletewmx:function(e){var t=this;this.productdetail.thing.properties.splice((this.wmxstart-1)*this.wmxlength+e,1);var r=b.a.Object.extend("Product");new b.a.Query(r).get(this.productId).then(function(e){e.set("thing",t.productdetail.thing),e.save().then(function(e){e&&(t.$message({type:"success",message:"删除成功"}),t.wmxData=t.productdetail.thing.properties.concat([]))},function(e){t.$message({type:"error",message:e.message})})})},wmxSizeChange:function(e){this.wmxstart=1,this.wmxlength=e,console.log(this.wmxData.slice((this.wmxstart-1)*this.wmxlength,this.wmxstart*this.wmxlength))},wmxCurrentChange:function(e){this.wmxstart=e},subTopic:function(e,t){var r=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;var i="thing/"+r.productId+"/${DevAddr}/"+r.topicform.topic,o=b.a.Object.extend("Product");new b.a.Query(o).get(r.productId).then(function(a){var o={topic:i,type:r.topicform.type,desc:r.topicform.desc},n=[];if(n.push(o),-1==t)n=n.concat(a.attributes.topics),a.set("topics",n);else{var s=a.attributes.topics.concat([]);s[t]=o,a.set("topics",s)}a.save().then(function(t){t&&(r.$message({type:"success",message:"成功"}),r.topicdialogVisible=!1,r.$refs[e].resetFields(),r.topicform.isupdated=-1,r.topicform.topic="",r.topicform.desc="",r.handleClick({name:"second"}))},function(e){r.$message({type:"error",message:e.message})})})})},topicSizeChange:function(e){this.topicstart=1,this.topiclength=e},topicCurrentChange:function(e){this.topicstart=e},updatetopic:function(e,t){this.topicform.topic=e.topic.substr(e.topic.lastIndexOf("/")+1),this.topicform.type=e.type,this.topicform.desc=e.desc,this.topicdialogVisible=!0,this.topicform.isupdated=t},deletetopic:function(e,t){var r=this,a=b.a.Object.extend("Product");new b.a.Query(a).get(this.productId).then(function(a){var i=a.attributes.topics.concat([]);i.splice(t,1),a.set("topics",i),a.save().then(function(t){t&&(r.$message({type:"success",message:"删除成功"}),e._self.$refs["popover-"+e.$index].doClose(),r.handleClick({name:"second"}))},function(e){r.$message({type:"error",message:e.message})})})},testgraphql:function(){var e=this;this.$apollo.query({query:_()(C,n.getValue())}).then(function(e){s.setValue(f()(e,null,4))}).catch(function(t){console.log(t),e.$message.error(t)})}}},S=(r("Py8l"),r("ErXj"),r("KHd+")),x=Object(S.a)(w,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editproduct"},[r("div",{staticClass:"editheader"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/roles/product"}}},[e._v(e._s(e.$t("route.产品管理")))]),e._v(" "),r("el-breadcrumb-item",[e._v(e._s(e.$t("route.产品详情")))])],1),e._v(" "),r("div",{staticClass:"product"},[r("ul",[r("li",[r("span",[e._v("ProductId:")]),e._v(" "),r("span",[e._v(e._s(e.productId))])]),e._v(" "),r("li",[r("span",[e._v("ProductSecret:")]),e._v(" "),0==e.isshow?r("span",[e._v("\n            ********************\n            "),r("el-link",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{underline:!1,type:"primary"},on:{click:function(t){e.isshow=!0}}},[e._v(e._s(e.$t("product.display")))])],1):r("span",[e._v("\n            "+e._s(e.ProductSecret)+"\n            "),r("el-link",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{underline:!1,type:"primary"},on:{click:function(t){e.isshow=!1}}},[e._v(e._s(e.$t("product.hidden")))])],1)]),e._v(" "),r("li",[r("span",[e._v(e._s(e.$t("product.numberofequipment"))+":")]),e._v(" "),r("span",[e._v("\n            "+e._s(e.form.ProductAll)+"\n            "),r("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{underline:!1,type:"primary"},on:{click:e.goToDevices}},[e._v(e._s(e.$t("product.gotoequipment")))])],1)])])])],1),e._v(" "),r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:e.$t("product.productinformation"),name:"first"}},[r("div",{staticStyle:{background:"#ffffff",padding:"10px","box-sizing":"border-box"}},[r("div",[r("table",{staticClass:"mailtable",staticStyle:{width:"100%"},attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[r("tr",[r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("product.productname")))]),e._v(" "),r("td",[e._v(e._s(e.productdetail.name))]),e._v(" "),r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("product.nodetype")))]),e._v(" "),1==e.productdetail.nodeType?r("td",[e._v(e._s(e.$t("product.gateway")))]):r("td",[e._v(e._s(e.$t("product.equipment")))]),e._v(" "),r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("product.addingtime")))]),e._v(" "),r("td",[e._v(e._s(e.productdetail.createdAt))])]),e._v(" "),r("tr",[r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("product.classification")))]),e._v(" "),r("td",[e._v(e._s(e.productdetail.category))]),e._v(" "),r("td",{staticClass:"cloumn"},[e._v("\n                  "+e._s(e.$t("product.dynamicregistration"))+"\n                  "),r("el-tooltip",{staticStyle:{"margin-left":"5px",color:"#cccccc"},attrs:{content:e.$t("product.text1"),placement:"top",effect:"light"}},[r("i",{staticClass:"el-icon-question"})])],1),e._v(" "),r("td",[0==e.dynamicReg?r("span",{staticStyle:{color:"#cccccc"}},[e._v(e._s(e.$t("product.close")))]):r("span",[e._v(e._s(e.$t("product.open")))]),e._v(" "),r("el-switch",{attrs:{"active-color":"#5eb058","inactive-color":"#cccccc","active-value":!0,"inactive-value":!1},on:{change:function(t){e.handelUpdate(t,e.dynamicReg)}},model:{value:e.dynamicReg,callback:function(t){e.dynamicReg=t},expression:"dynamicReg"}})],1),e._v(" "),r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("product.networking")))]),e._v(" "),"CELLULAR"==e.productdetail.netType?r("td",[e._v("蜂窝(2G/3G/4G)")]):"WIFI"==e.productdetail.netType?r("td",[e._v("WiFi")]):"ETHERNET"==e.productdetail.netType?r("td",[e._v("以太网")]):"LORA"==e.productdetail.netType?r("td",[e._v("LoRaWAN")]):r("td",[e._v(e._s(e.$t("product.other")))])]),e._v(" "),r("tr",[r("td",{staticClass:"cloumn"},[e._v(e._s(e.$t("developer.describe")))]),e._v(" "),r("td",{attrs:{colspan:"6"}},[e._v(e._s(e.productdetail.desc))])])])])])]),e._v(" "),r("el-tab-pane",{attrs:{label:"Topic"+e.$t("product.list"),name:"second"}},[r("div",{staticStyle:{background:"#ffffff",padding:"10px","box-sizing":"border-box"}},[r("div",{staticClass:"addtopic",staticStyle:{"text-align":"right","margin-bottom":"10px"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.topicdialogVisible=!0}}},[e._v(e._s(e.$t("product.customtopicclass")))])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.topicData.slice((e.topicstart-1)*e.topiclength,e.topicstart*e.topiclength)}},[r("el-table-column",{attrs:{label:"Topic",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.topic.replace("${ProductId}",e.productId)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.operationauthority"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["pub"==t.row.type?r("span",[e._v(e._s(e.$t("product.pub")))]):e._e(),e._v(" "),"sub"==t.row.type?r("span",[e._v(e._s(e.$t("product.sub")))]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"desc",align:"center",label:e.$t("developer.describe")}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isdef?e._e():r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.updatetopic(t.row,t.$index)}}},[e._v(e._s(e.$t("developer.edit")))]),e._v(" "),r("el-popover",{ref:"popover-"+t.$index,attrs:{placement:"top",width:"300"}},[r("p",[e._v("确定删除这个"+e._s(t.row.topic)+"Topic类吗？")]),e._v(" "),r("div",{staticStyle:{"text-align":"right",margin:"0"}},[r("el-button",{attrs:{size:"mini"},on:{click:function(e){t._self.$refs["popover-"+t.$index].doClose()}}},[e._v(e._s(e.$t("product.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.deletetopic(t,t.$index)}}},[e._v(e._s(e.$t("developer.determine")))])],1),e._v(" "),t.row.isdef?e._e():r("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("developer.delete")))])],1)]}}])})],1),e._v(" "),r("div",{staticClass:"elpagination",staticStyle:{"margin-top":"20px"}},[r("el-pagination",{attrs:{"page-sizes":[10,20,30,50],"page-size":e.topiclength,layout:"total, sizes, prev, pager, next, jumper",total:e.topicData.length},on:{"size-change":e.topicSizeChange,"current-change":e.topicCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.$t("proudct.definetopicclass"),visible:e.topicdialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.topicdialogVisible=t}}},[r("div",{staticClass:"topiccontent"},[r("div",{staticStyle:{padding:"10px","box-sizing":"border-box",background:"#e6f9fc","font-size":"16px"}},[r("i",{staticClass:"el-icon-warning"}),e._v("\n              "+e._s(e.$t("product.text2"))+"\n            ")]),e._v(" "),r("div",{staticClass:"topicform"},[r("el-form",{ref:"topicform",attrs:{model:e.topicform,rules:e.topicrule}},[r("el-form-item",{attrs:{label:"Topic类：",prop:"topic"}},[r("el-input",{model:{value:e.topicform.topic,callback:function(t){e.$set(e.topicform,"topic",t)},expression:"topicform.topic"}},[r("template",{slot:"prepend"},[e._v(e._s("thing/"+e.productId+"/${DevAddr}/"))])],2)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.operationauthority"),prop:"type"}},[r("el-select",{attrs:{placeholder:e.$t("product.selectdeviceoperationpermission")},model:{value:e.topicform.type,callback:function(t){e.$set(e.topicform,"type",t)},expression:"topicform.type"}},[r("el-option",{attrs:{label:e.$t("product.sub"),value:"sub"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.pub"),value:"pub"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("developer.describe")}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.topicform.desc,callback:function(t){e.$set(e.topicform,"desc",t)},expression:"topicform.desc"}})],1)],1)],1)]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.topicdialogVisible=!1}}},[e._v(e._s(e.$t("developer.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.subTopic("topicform",e.topicform.isupdated)}}},[e._v(e._s(e.$t("developer.determine")))])],1)])],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("product.physicalmodel"),name:"third"}},[r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.checkschema}},[e._v(e._s(e.$t("product.viewobjectmodel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.wmxdialogVisible=!0}}},[e._v(e._s(e.$t("product.newcustomattribute")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addcategory}},[e._v(e._s(e.$t("product.newstandardattribute")))])],1),e._v(" "),r("div",[r("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.wmxData.slice((e.wmxstart-1)*e.wmxlength,e.wmxstart*e.wmxlength),border:"","row-key":"identifier","default-expand-all":!1,"row-class-name":e.getRowClass}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return"struct"==t.row.dataType.type?[r("el-table",{staticStyle:{width:"60%","text-align":"center","box-sizing":"border-box"},attrs:{data:t.row.dataType.specs}},[r("el-table-column",{attrs:{label:e.$t("product.identifier"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.identifier))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.functionaltypes"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.$t("product.attribute")))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:e.$t("product.functionname"),align:"center"}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.datadefinition"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.dataType.type))])]}}])})],1)]:void 0}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"identifier",label:e.$t("product.identifier")}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.functionaltypes")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.$t("product.attribute")))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:e.$t("product.functionname")}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.datatype")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.dataType.type))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.datadefinition")},scopedSlots:e._u([{key:"default",fn:function(t){return[!t.row.dataType.specs||"double"!=t.row.dataType.type&&"float"!=t.row.dataType.type&&"int"!=t.row.dataType.type?"string"==t.row.dataType.type?r("span",[e._v(e._s(e.$t("product.datalength")+":"+t.row.dataType.size+e.$t("product.byte")))]):"date"==t.row.dataType.type?r("span"):"struct"!=t.row.dataType.type?r("span",[e._v(e._s(t.row.dataType.specs))]):r("span"):r("span",[e._v(e._s(e.$t("product.rangeofvalues")+t.row.dataType.specs.min+"~"+t.row.dataType.specs.max))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){e.deletewmx(t.$index)}}},[e._v(e._s(e.$t("developer.delete")))])]}}])})],1),e._v(" "),r("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"page-sizes":[10,20,30,50],"page-size":e.wmxlength,layout:"total, sizes, prev, pager, next, jumper",total:e.wmxData.length},on:{"size-change":e.wmxSizeChange,"current-change":e.wmxCurrentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:e.$t("product.addfunction"),visible:e.originwmx,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.originwmx=t}}},[r("div",[r("div",{staticStyle:{margin:"20px 0"}},[r("label",{attrs:{for:""}},[e._v(e._s(e.$t("product.classification")))]),e._v(" "),r("el-cascader",{attrs:{options:e.treeData},on:{change:e.handleChange},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.getPropData(0)}}},[e._v(e._s(e.$t("developer.search")))])],1),e._v(" "),r("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[r("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.PropData}},[r("el-table-column",{attrs:{label:"ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.data.SuperId))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.identifier"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.type))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("product.applicabletype"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.data.CategoryName))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.addProCategory(t.row)}}},[e._v(e._s(e.$t("product.add")))])]}}])})],1)],1),e._v(" "),r("div",[r("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"page-sizes":[10,20,30,50],"page-size":e.productlength,layout:"total, sizes, prev, pager, next, jumper",total:e.producttotal,small:""},on:{"size-change":e.productSizeChange,"current-change":e.productCurrentChange}})],1)]),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.originwmx=!1}}},[e._v(e._s(e.$t("developer.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.originwmx=!1}}},[e._v(e._s(e.$t("developer.determine")))])],1)]),e._v(" "),r("el-dialog",{attrs:{title:e.$t("product.newcustomattribute"),visible:e.wmxdialogVisible,width:"40%",top:"5vh","before-close":e.wmxhandleClose},on:{"update:visible":function(t){e.wmxdialogVisible=t}}},[r("div",{staticClass:"wmxheader"},[r("el-form",{ref:"sizeForm",attrs:{model:e.sizeForm,size:"small",rules:e.sizerule}},[r("el-form-item",{attrs:{label:e.$t("product.functionname"),prop:"name"}},[r("el-input",{model:{value:e.sizeForm.name,callback:function(t){e.$set(e.sizeForm,"name",t)},expression:"sizeForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.identifier"),prop:"identifier"}},[r("el-input",{model:{value:e.sizeForm.identifier,callback:function(t){e.$set(e.sizeForm,"identifier",t)},expression:"sizeForm.identifier"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.datatype"),prop:"type"}},[r("el-select",{on:{change:e.selectStruct},model:{value:e.sizeForm.type,callback:function(t){e.$set(e.sizeForm,"type",t)},expression:"sizeForm.type"}},[r("el-option",{attrs:{label:e.$t("product.struct"),value:"STRUCT"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.init"),value:"INT"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.float"),value:"FLOAT"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.double"),value:"DOUBLE"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.bool"),value:"BOOL"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.enum"),value:"ENUM"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.string"),value:"STRING"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.date"),value:"DATE"}})],1)],1),e._v(" "),"INT"==e.sizeForm.type||"FLOAT"==e.sizeForm.type||"DOUBLE"==e.sizeForm.type?r("div",[r("el-form-item",{attrs:{required:"",label:e.$t("product.rangeofvalues")}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"startnumber"}},[r("el-input",{attrs:{type:"number",placeholder:e.$t("product.minimumvalue")},model:{value:e.sizeForm.startnumber,callback:function(t){e.$set(e.sizeForm,"startnumber",e._n(t))},expression:"sizeForm.startnumber"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"endnumber"}},[r("el-input",{attrs:{type:"number",placeholder:e.$t("product.maximumvalue")},model:{value:e.sizeForm.endnumber,callback:function(t){e.$set(e.sizeForm,"endnumber",e._n(t))},expression:"sizeForm.endnumber"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.step"),prop:"step"}},[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",precision:2,step:.1},model:{value:e.sizeForm.step,callback:function(t){e.$set(e.sizeForm,"step",e._n(t))},expression:"sizeForm.step"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.unit")}},[r("el-select",{attrs:{placeholder:e.$t("product.unit")},model:{value:e.sizeForm.unit,callback:function(t){e.$set(e.sizeForm,"unit",t)},expression:"sizeForm.unit"}},e._l(e.allunit,function(e,t){return r("el-option",{key:t,attrs:{label:e.attributes.data.Name+"/"+e.attributes.data.Symbol,value:e.attributes.data.Symbol}})}))],1)],1):e._e(),e._v(" "),"BOOL"==e.sizeForm.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.attribute"),required:""}},[r("div",{staticStyle:{height:"40px"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",placeholder:e.$t("product.attribute"),readonly:""},model:{value:e.sizeForm.truevalue,callback:function(t){e.$set(e.sizeForm,"truevalue",t)},expression:"sizeForm.truevalue"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"true"}},[r("el-input",{staticClass:"inputnumber",attrs:{placeholder:e.$t("product.egopen")},model:{value:e.sizeForm.true,callback:function(t){e.$set(e.sizeForm,"true",t)},expression:"sizeForm.true"}})],1)],1)],1),e._v(" "),r("div",{staticStyle:{"margin-top":"20px"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",placeholder:e.$t("product.attribute"),readonly:""},model:{value:e.sizeForm.falsevalue,callback:function(t){e.$set(e.sizeForm,"falsevalue",t)},expression:"sizeForm.falsevalue"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"true"}},[r("el-input",{staticClass:"inputnumber",attrs:{placeholder:e.$t("egclose")},model:{value:e.sizeForm.false,callback:function(t){e.$set(e.sizeForm,"false",t)},expression:"sizeForm.false"}})],1)],1)],1)])],1):e._e(),e._v(" "),"ENUM"==e.sizeForm.type?r("div",[e._l(e.sizeForm.specs,function(t,a){return r("el-form-item",{key:a,attrs:{required:""}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:e.$t("product.attribute")+a,prop:"specs."+a+".attribute",rules:[{required:!0,message:"输入属性"}]}},[r("el-input",{attrs:{placeholder:e.$t("product.egnumber0")},model:{value:t.attribute,callback:function(r){e.$set(t,"attribute",r)},expression:"item.attribute"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:e.$t("product.attributevalue")+a,prop:"specs."+a+".attributevalue",rules:[{required:!0,message:"输入属性值"}]}},[r("el-input",{attrs:{placeholder:e.$t("developer.describe")},model:{value:t.attributevalue,callback:function(r){e.$set(t,"attributevalue",r)},expression:"item.attributevalue"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}}),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:4}},[r("el-link",{staticStyle:{"margin-left":"5px","margin-top":"30px"},attrs:{type:"primary",underline:!1,icon:"el-icon-minus"},on:{click:function(r){r.preventDefault(),e.removeDomain(t)}}},[e._v(e._s(e.$t("developer.delete")))])],1)],1)}),e._v(" "),r("el-link",{attrs:{icon:"el-icon-plus",type:"primary",underline:!1},on:{click:e.addDomain}},[e._v(e._s(e.$t("product.add")))])],2):e._e(),e._v(" "),"STRUCT"==e.sizeForm.type?r("div",[r("el-form-item",{attrs:{label:"JSON对象",required:""}},[r("ul",{staticStyle:{margin:"0","padding-left":"20px"}},e._l(e.sizeForm.struct,function(t,a){return r("li",{key:a,staticStyle:{"list-style":"none",display:"flex"},attrs:{value:"item"}},[r("div",[r("span",[e._v(e._s(e.$t("product.parametername")+":")+"}")]),e._v(" "),r("span",[e._v(e._s(t.name))])]),e._v(" "),r("div",[r("el-link",{staticStyle:{"margin-left":"20px"},attrs:{underline:!1,type:"primary"},on:{click:function(r){e.editStruct(t,a)}}},[e._v(e._s(e.$t("developer.edit")))]),e._v(" "),r("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(t){e.deleteStruct(a)}}},[e._v(e._s(e.$t("developer.delete")))])],1)])})),e._v(" "),r("el-link",{attrs:{icon:"el-icon-plus",type:"primary",underline:!1},on:{click:function(t){e.addStruct("structform")}}},[e._v(e._s(e.$t("product.addparameter")))])],1)],1):e._e(),e._v(" "),"STRING"==e.sizeForm.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.datalength"),prop:"string"}},[r("el-input",{attrs:{type:"number"},model:{value:e.sizeForm.string,callback:function(t){e.$set(e.sizeForm,"string",e._n(t))},expression:"sizeForm.string"}},[r("template",{slot:"append"},[e._v("\n                        "+e._s(e.$t("product.byte"))+"\n                    ")])],2)],1)],1):e._e(),e._v(" "),"DATE"==e.sizeForm.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.timeformat")}},[r("el-input",{attrs:{readonly:""},model:{value:e.sizeForm.date,callback:function(t){e.$set(e.sizeForm,"date",t)},expression:"sizeForm.date"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.readandwritetype"),prop:"isread"}},[r("el-radio-group",{attrs:{size:"medium"},model:{value:e.sizeForm.isread,callback:function(t){e.$set(e.sizeForm,"isread",t)},expression:"sizeForm.isread"}},[r("el-radio",{attrs:{label:"rw"}},[e._v(e._s(e.$t("product.readandwrite")))]),e._v(" "),r("el-radio",{attrs:{label:"r"}},[e._v(e._s(e.$t("product.onlyread")))])],1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.wmxdialogVisible=!1}}},[e._v(e._s(e.$t("developer.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("sizeForm")}}},[e._v(e._s(e.$t("developer.determine")))])],1)]),e._v(" "),r("el-dialog",{attrs:{title:e.$t("product.addparameter"),visible:e.structdialog,width:"40%",top:"15vh","before-close":e.structhandleClose},on:{"update:visible":function(t){e.structdialog=t}}},[r("div",{staticClass:"structheader"},[r("el-form",{ref:"structform",attrs:{model:e.structform,size:"small",rules:e.structrule}},[r("el-form-item",{attrs:{label:e.$t("product.functionname"),prop:"name"}},[r("el-input",{model:{value:e.structform.name,callback:function(t){e.$set(e.structform,"name",t)},expression:"structform.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.identifier"),prop:"identifier"}},[r("el-input",{model:{value:e.structform.identifier,callback:function(t){e.$set(e.structform,"identifier",t)},expression:"structform.identifier"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.datatype"),prop:"type"}},[r("el-select",{model:{value:e.structform.type,callback:function(t){e.$set(e.structform,"type",t)},expression:"structform.type"}},[r("el-option",{attrs:{label:e.$t("product.init"),value:"INT"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.float"),value:"FLOAT"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.double"),value:"DOUBLE"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.bool"),value:"BOOL"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.enum"),value:"ENUM"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.string"),value:"STRING"}}),e._v(" "),r("el-option",{attrs:{label:e.$t("product.date"),value:"DATE"}})],1)],1),e._v(" "),"INT"==e.structform.type||"FLOAT"==e.structform.type||"DOUBLE"==e.structform.type?r("div",[r("el-form-item",{attrs:{required:"",label:e.$t("product.rangeofvalues")}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"startnumber"}},[r("el-input",{attrs:{type:"number",placeholder:e.$t("product.minimumvalue")},model:{value:e.structform.startnumber,callback:function(t){e.$set(e.structform,"startnumber",e._n(t))},expression:"structform.startnumber"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{prop:"endnumber"}},[r("el-input",{attrs:{type:"number",placeholder:e.$t("product.maximumvalue")},model:{value:e.structform.endnumber,callback:function(t){e.$set(e.structform,"endnumber",e._n(t))},expression:"structform.endnumber"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.step"),prop:"step"}},[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",precision:2,step:.1},model:{value:e.structform.step,callback:function(t){e.$set(e.structform,"step",e._n(t))},expression:"structform.step"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.unit")}},[r("el-select",{attrs:{placeholder:e.$t("product.unit")},model:{value:e.structform.unit,callback:function(t){e.$set(e.structform,"unit",t)},expression:"structform.unit"}},e._l(e.allunit,function(e,t){return r("el-option",{key:t,attrs:{label:e.attributes.data.Name+"/"+e.attributes.data.Symbol,value:e.attributes.data.Symbol}})}))],1)],1):e._e(),e._v(" "),"BOOL"==e.structform.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.attribute"),required:""}},[r("div",{staticStyle:{height:"40px"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",placeholder:e.$t("product.attributevalue"),readonly:""},model:{value:e.structform.truevalue,callback:function(t){e.$set(e.structform,"truevalue",t)},expression:"structform.truevalue"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"true"}},[r("el-input",{staticClass:"inputnumber",attrs:{placeholder:e.$t("product.egopen")},model:{value:e.structform.true,callback:function(t){e.$set(e.structform,"true",t)},expression:"structform.true"}})],1)],1)],1),e._v(" "),r("div",{staticStyle:{"margin-top":"20px"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",[r("el-input",{staticClass:"inputnumber",attrs:{type:"number",placeholder:e.$t("product.attributevalue"),readonly:""},model:{value:e.structform.falsevalue,callback:function(t){e.$set(e.structform,"falsevalue",t)},expression:"structform.falsevalue"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"true"}},[r("el-input",{staticClass:"inputnumber",attrs:{placeholder:e.$t("product.egclost")},model:{value:e.structform.false,callback:function(t){e.$set(e.structform,"false",t)},expression:"structform.false"}})],1)],1)],1)])],1):e._e(),e._v(" "),"ENUM"==e.structform.type?r("div",[e._l(e.structform.specs,function(t,a){return r("el-form-item",{key:a,attrs:{required:""}},[r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:e.$t("product.attribute")+a,prop:"specs."+a+".attribute",rules:[{required:!0,message:"输入属性"}]}},[r("el-input",{attrs:{placeholder:e.$t("product.egnumber0")},model:{value:t.attribute,callback:function(r){e.$set(t,"attribute",r)},expression:"item.attribute"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),r("el-col",{attrs:{span:9}},[r("el-form-item",{attrs:{label:e.$t("product.attribute")+a,prop:"specs."+a+".attributevalue",rules:[{required:!0,message:"输入属性值"}]}},[r("el-input",{attrs:{placeholder:e.$t("developer.describe")},model:{value:t.attributevalue,callback:function(r){e.$set(t,"attributevalue",r)},expression:"item.attributevalue"}})],1)],1),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:2}}),e._v(" "),r("el-col",{staticClass:"line",attrs:{span:4}},[r("el-link",{staticStyle:{"margin-left":"5px","margin-top":"30px"},attrs:{type:"primary",underline:!1,icon:"el-icon-minus"},on:{click:function(r){r.preventDefault(),e.removeDomain1(t)}}},[e._v(e._s(e.$t("developer.delete")))])],1)],1)}),e._v(" "),r("el-link",{attrs:{icon:"el-icon-plus",type:"primary",underline:!1},on:{click:e.addDomain1}},[e._v(e._s(e.$t("product.add")))])],2):e._e(),e._v(" "),"STRING"==e.structform.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.datalength"),prop:"string"}},[r("el-input",{attrs:{type:"number"},model:{value:e.structform.string,callback:function(t){e.$set(e.structform,"string",e._n(t))},expression:"structform.string"}},[r("template",{slot:"append"},[e._v("\n                        "+e._s(e.$t("product.byte"))+"\n                    ")])],2)],1)],1):e._e(),e._v(" "),"DATE"==e.structform.type?r("div",[r("el-form-item",{attrs:{label:e.$t("product.timeformat")}},[r("el-input",{attrs:{readonly:""},model:{value:e.structform.date,callback:function(t){e.$set(e.structform,"date",t)},expression:"structform.date"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:e.$t("product.readandwritetype"),prop:"isread"}},[r("el-radio-group",{attrs:{size:"medium"},model:{value:e.structform.isread,callback:function(t){e.$set(e.structform,"isread",t)},expression:"structform.isread"}},[r("el-radio",{attrs:{label:"rw"}},[e._v(e._s(e.$t("product.readandwrite")))]),e._v(" "),r("el-radio",{attrs:{label:"r"}},[e._v(e._s(e.$t("product.onlyread")))])],1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.structdialog=!1}}},[e._v(e._s(e.$t("developer.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitStruct("structform")}}},[e._v(e._s(e.$t("developer.determine")))])],1)])],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("product.contentparsing"),name:"fourth"}},[r("div",{staticClass:"protolheader"},[r("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline,rules:e.addRules}},[r("el-form-item",{attrs:{label:e.$t("product.protocolname"),prop:"name"}},[r("el-input",{attrs:{placeholder:e.$t("product.protocolname")},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("plugins.version")}},[r("el-input",{attrs:{placeholder:e.$t("plugins.version")},model:{value:e.formInline.version,callback:function(t){e.$set(e.formInline,"version",t)},expression:"formInline.version"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("developer.describe")}},[r("el-input",{attrs:{placeholder:e.$t("developer.describe")},model:{value:e.formInline.desc,callback:function(t){e.$set(e.formInline,"desc",t)},expression:"formInline.desc"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.subAce("formInline")}}},[e._v(e._s(e.$t("product.preservation")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.chaxun}},[e._v(e._s(e.$t("product.publicagreementlibrary")))])],1),e._v(" "),r("el-form-item",{staticStyle:{display:"block"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.protol}},[e._v(e._s(e.$t("product.compile")))])],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.$t("product.publicagreementlibrary"),visible:e.dialogTableVisible,width:"50%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.gridData}},[r("el-table-column",{attrs:{label:e.$t("product.protocolname"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.data.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("plugins.version"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.data.version))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.describe"),align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.data.desc))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation"),align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.editordata(t.row)}}},[e._v(e._s(e.$t("product.clone")))])]}}])})],1)],1),e._v(" "),r("div",[r("div",{staticStyle:{background:"#ffffff"}},[r("label",{attrs:{id:"plug-name"}})]),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"600px","margin-bottom":"0"},attrs:{id:"editor"}},[r("textarea",{staticClass:"ace_text-input"})]),e._v(" "),r("div",{staticStyle:{background:"#ffffff"}},[r("label",{attrs:{id:"plug-name"}})]),e._v(" "),r("div",{staticStyle:{color:"#c2be9e",background:"#272822","border-top":"1px solid #dddddd",padding:"5px"}},[r("span",[e._v(e._s(e.$t("product.controloutput")))])]),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"300px","margin-bottom":"0","margin-top":"0"},attrs:{id:"editor2"}},[r("textarea",{staticClass:"ace_text-input"})])])],1),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("product.physicalaccess"),name:"fiveth"}},[r("div",{staticClass:"productchannel",staticStyle:{"text-align":"right",padding:"10px"}},[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.showAllChannel}},[e._v(e._s(e.$t("developer.createchannel")))])],1),e._v(" "),r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.channelData}},[r("el-table-column",{attrs:{label:e.$t("developer.channelnumber")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channelname")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channeladdr")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("channel/"+t.row.id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channeltype")},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.attributes.type?r("span",[e._v(e._s(e.$t("developer.collectionchannel")))]):r("span",[e._v(e._s(e.$t("developer.resourcechannel")))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.servicetype")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.cType))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){e.deleteRelation(t.row)}}},[e._v(e._s(e.$t("developer.remove")))])]}}])})],1),e._v(" "),r("div",{staticClass:"elpagination",staticStyle:{"margin-top":"20px"}},[r("el-pagination",{attrs:{"page-sizes":[10,20,30,50],"page-size":e.channellength,layout:"total, sizes, prev, pager, next, jumper",total:e.channeltotal},on:{"size-change":e.channelSizeChange,"current-change":e.channelCurrentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"添加通道",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[r("div",{staticClass:"addchannel"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allchannelData,height:"400"}},[r("el-table-column",{attrs:{label:e.$t("developer.channelnumber")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channelname")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.name))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channeladdr")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s("channel/"+t.row.id))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.channeltype")},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.attributes.type?r("span",[e._v(e._s(e.$t("developer.collectionchannel")))]):r("span",[e._v(e._s(e.$t("developer.resourcechannel")))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.servicetype")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.attributes.cType))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("developer.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){e.addProductChannel(t.row.id)}}},[e._v(e._s(e.$t("developer.add")))])]}}])})],1),e._v(" "),r("div",{staticClass:"elpagination",staticStyle:{"margin-top":"20px"}},[r("el-pagination",{attrs:{"page-sizes":[10,20,30,50],"page-size":e.allChannellength,layout:"total, sizes, prev, pager, next, jumper",total:e.allChanneltotal},on:{"size-change":e.allChannelSizeChange,"current-change":e.allChannelCurrentChange}})],1)],1)])],1)]),e._v(" "),r("el-tab-pane",{attrs:{label:e.$t("product.newstorage"),name:"sixeth"}},[r("div",{staticStyle:{width:"40%"}},[r("div",[r("el-tag",[e._v(e._s(e.$t("product.modeltemplate")))])],1),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"300px",width:"100%"},attrs:{id:"editor6"}},[e._v("             "),r("textarea",{staticClass:"ace_text-input",staticStyle:{overflow:"scroll"}}),e._v("\n            ")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}})],1),e._v(" "),r("div",{staticStyle:{width:"30%"}},[r("div",[r("el-tag",[e._v(e._s(e.$t("product.modelstorage")))])],1),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"300px",width:"100%"},attrs:{id:"editor4"}},[e._v("            "),r("textarea",{staticClass:"ace_text-input"}),e._v("\n          ")]),e._v(" "),r("el-divider",{attrs:{direction:"vertical"}})],1),e._v(" "),r("div",{staticStyle:{width:"30%"}},[r("div",[r("el-tag",[e._v(e._s(e.$t("product.modeldataoutput")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.testgraphql}},[e._v("测试")])],1),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"300px",width:"100%"},attrs:{id:"editor5"}},[e._v("            "),r("textarea",{staticClass:"ace_text-input"}),e._v("\n          ")])])])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.$t("product.viewobjectmodel"),visible:e.schemadialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.schemadialogVisible=t}}},[r("div",[r("div",{staticStyle:{background:"#ffffff"}},[r("label",{attrs:{id:"plug-name"}})]),e._v(" "),r("pre",{staticClass:"ace_editor",staticStyle:{"min-height":"400px"},attrs:{id:"editor1"}},[r("textarea",{staticClass:"ace_text-input",staticStyle:{overflow:"scroll"}})])]),e._v(" "),r("span",{staticClass:"dialog-footer",staticStyle:{height:"30px"},attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.preserve}},[e._v(e._s(e.$t("developer.determine")))])],1)])],1)},[],!1,null,"3b4082ba",null);x.options.__file="proddetail.vue";t.default=x.exports},"19n2":function(e,t,r){},"4bdI":function(e,t,r){r("Ui4e"),e.exports=r("WEpk").Object.freeze},"6/1s":function(e,t,r){var a=r("YqAc")("meta"),i=r("93I4"),o=r("B+OT"),n=r("2faE").f,s=0,l=Object.isExtensible||function(){return!0},c=!r("KUxP")(function(){return l(Object.preventExtensions({}))}),u=function(e){n(e,a,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,a)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[a].i},getWeak:function(e,t){if(!o(e,a)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[a].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,a)&&u(e),e}}},CSPP:function(e,t,r){"use strict";t.__esModule=!0;var a=o(r("io0T")),i=o(r("Dbz9"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,i.default)((0,a.default)(e,{raw:{value:(0,i.default)(t)}}))}},Dbz9:function(e,t,r){e.exports={default:r("4bdI"),__esModule:!0}},ErXj:function(e,t,r){"use strict";var a=r("19n2");r.n(a).a},GQeE:function(e,t,r){e.exports={default:r("iq4v"),__esModule:!0}},J66h:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(global,factory){module.exports=function(global){"use strict";var _Base64=(global=global||{}).Base64,version="2.5.1",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,a=e.length;r<a;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),a=[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)];return a.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return fromCharCode(55296+(r>>>10))+fromCharCode(56320+(1023&r));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,a=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(a>>>16),fromCharCode(a>>>8&255),fromCharCode(255&a)];return i.length-=[0,0,2,1][r],i.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}global.Meteor&&(Base64=global.Base64);void 0!==module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));return{Base64:global.Base64}}(global)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this)}).call(this,__webpack_require__("yLpj"))},Mld3:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return n}),r.d(t,"e",function(){return s}),r.d(t,"d",function(){return l});var a=r("t3Un");function i(e){var t=e.order,r=e.limit,i=e.skip,o=e.keys,n=e.include,s=e.where;return Object(a.a)({url:"/classes/Datas",method:"get",params:{order:t,limit:r,skip:i,keys:o,include:n,where:s}})}function o(e){var t=e.order,r=e.limit,i=e.skip,o=e.keys,n=e.include,s=e.where;return Object(a.a)({url:"/classes/App",method:"get",params:{order:t,limit:r,skip:i,keys:o,include:n,where:s}})}function n(e){return Object(a.a)({url:"/classes/App",method:"post",data:{ACL:{"role:admin":{read:!0,write:!0},"role:root":{read:!0,write:!0},"*":{read:!0,write:!0}},copyright:e.copyright,title:e.name,config:{expires:e.expires},secret:e.secret,scale:e.scale,category:e.category,productIdentifier:e.productIdentifier,logo:e.img,desc:e.desc}})}function s(e,t){return Object(a.a)({url:"/classes/App/"+e,method:"put",data:{copyright:t.copyright,title:t.name,config:{expires:t.expires},dashboard:t.dashboard,secret:t.secret,scale:t.scale,category:t.category,productIdentifier:t.productIdentifier,logo:t.img,desc:t.desc}})}function l(e){if("number"==typeof e){e=String(e);var t=/0{8}$/,r=/0{4}$/;return t.test(e)?e.replace(t,"亿"):r.test(e)?e.replace(r,"万"):e}if("string"==typeof e){var a=/万+$/,i=/亿+$/;return i.test(e)?e.replace(i,"00000000"):a.test(e)?e.replace(a,"0000"):e}}},Mqbl:function(e,t,r){var a=r("JB68"),i=r("w6GO");r("zn7N")("keys",function(){return function(e){return i(a(e))}})},Py8l:function(e,t,r){"use strict";var a=r("dU4d");r.n(a).a},URgk:function(e,t,r){(function(e){var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("yLpj"))},Ui4e:function(e,t,r){var a=r("93I4"),i=r("6/1s").onFreeze;r("zn7N")("freeze",function(e){return function(t){return e&&a(t)?e(i(t)):t}})},W7oM:function(e,t,r){r("nZgG");var a=r("WEpk").Object;e.exports=function(e,t){return a.defineProperties(e,t)}},YBdB:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var a,i=1,o={},n=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?a=function(e){t.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&u(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),a=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){u(e.data)},a=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;a=function(t){var r=s.createElement("script");r.onreadystatechange=function(){u(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():a=function(e){setTimeout(u,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return o[i]=n,a(i),i++},l.clearImmediate=c}function c(e){delete o[e]}function u(e){if(n)setTimeout(u,0,e);else{var t=o[e];if(t){n=!0;try{!function(e){var t=e.callback,a=e.args;switch(a.length){case 0:t();break;case 1:t(a[0]);break;case 2:t(a[0],a[1]);break;case 3:t(a[0],a[1],a[2]);break;default:t.apply(r,a)}}(t)}finally{c(e),n=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("yLpj"),r("8oxB"))},Yh9x:function(e,t,r){"use strict";r.d(t,"c",function(){return i}),r.d(t,"d",function(){return o}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return s}),r.d(t,"g",function(){return l}),r.d(t,"b",function(){return c}),r.d(t,"a",function(){return u}),r.d(t,"h",function(){return d});var a=r("t3Un");function i(e,t,r){return Object(a.a)({url:"/plugin",method:"get",params:{node:e,start:t,length:r}})}function o(e){return Object(a.a)({url:"/plugin/"+e,method:"post",params:{Action:"modules"}})}function n(e){return Object(a.a)({url:"/plugin/"+e,method:"post",params:{Action:"modules"}})}function s(e){return Object(a.a)({url:"/plugin/"+e,method:"post",params:{Action:"start"}})}function l(e){return Object(a.a)({url:"/plugin/"+e,method:"post",params:{Action:"stop"}})}function c(e){return Object(a.a)({url:"/plugin/"+e,method:"post",params:{Action:"reload"}})}function u(e){return Object(a.a)({url:"/compile",method:"post",data:{code:e}})}function d(e,t){return Object(a.a)({url:"/dev/"+e,method:"get",params:{productId:t}})}},dU4d:function(e,t,r){},io0T:function(e,t,r){e.exports={default:r("W7oM"),__esModule:!0}},iq4v:function(e,t,r){r("Mqbl"),e.exports=r("WEpk").Object.keys},nZgG:function(e,t,r){var a=r("Y7ZC");a(a.S+a.F*!r("jmDH"),"Object",{defineProperties:r("fpC5")})},zn7N:function(e,t,r){var a=r("Y7ZC"),i=r("WEpk"),o=r("KUxP");e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],n={};n[e]=t(r),a(a.S+a.F*o(function(){r(1)}),"Object",n)}}}]);