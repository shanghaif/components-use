(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2ecb"],{"2oai":function(e,t,a){"use strict";a.r(t);var n=a("v0iw"),l=a.n(n),s=(a("URgk"),a("tfr4")),o={data:function(){return{isopen:"suo",pwdType:"password",tableData:[],channelForm:!1,channelupdated:"新增",activeName:"first",channelId:"",channelformsearch:{name:""},channelregion:[{name:"Kafka",value:"kafka",channeltype:"资源通道",channelvalue:"2"},{name:"MySQL",value:"mysql",channeltype:"资源通道"},{name:"MongoDB",value:"mongodb",channeltype:"资源通道"},{name:"postgresql",value:"postgresql",channeltype:"资源通道"},{name:"RabbitMq",value:"rabbitmq",channeltype:"资源通道"},{name:"InfluxDB",value:"influxdb",channeltype:"资源通道"},{name:"DynamoDB",value:"dynamodb",channeltype:"资源通道"}],addchannel:{region:"kafka",port:"",path:"",desc:"",kafkahost:"127.0.0.1",kafkaport:9092,kafkaname:"",kafkametadata:"3s",kafkaduring:"3s",kafkabuffer:33554433,kafkaacks:"all",kafkays:"",kafkabatch:16384,postgresqlconnect:"",postgresqlhost:"",postgresqlusername:"",postgresqlpassword:"",postgresqlport:5432,postgresqldatabase:"postgres",postgresqlssl:"disable",postgresqllength:"",postgresqlname:"",isEnable:!0,dynamodbhost:"",rabbitmqhost:"",rabbitmqusername:"",rabbitmqname:"",rabbitconnect:"",rabbitpassword:"",rabbittimeout:"",rabbitinvented:"",rabbitmqautoconnect:""},addrules:{name:[{required:!0,message:"请输入通道名称",trigger:"blur"}],region:[{required:!0,message:"请选择服务类型",trigger:"change"}],channeltype:[{required:!0,message:"请选择通道类型",trigger:"change"}]},length:10,start:0,total:0,resourceid:""}},mounted:function(){this.Get_Re_Channel(0)},methods:{showPwd:function(){document.getElementsByClassName("readonly")[0];"suo"==this.isopen?(this.isopen="opensuo",this.pwdType="text"):(this.isopen="suo",this.pwdType="password")},validUrl:function(e,t,a){/^[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/.test(t)?a():a(new Error("需要输入正确的url"))},validPort:function(e,t,a){/^([0-9]|[1-9]\d|[1-9]\d{2}|[1-9]\d{3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(t)?a():a(new Error("需要输入正确的端口号"))},Get_Re_Channel:function(e){var t=this;0==e&&(this.start=0);var a=l.a.Object.extend("Resource"),n=new l.a.Query(a);n.skip(this.start),n.limit(this.length),n.ascending("updatedAt"),""!=this.channelformsearch.name&&n.contains("name",this.channelformsearch.name),n.count().then(function(e){t.total=e,n.find().then(function(e){e&&(t.tableData=e)},function(e){"209"==e.code?(t.$message({type:"warning",message:"登陆权限过期，请重新登录"}),t.$router.push({path:"/login"})):119==e.code&&t.$message({type:"error",message:"没有操作权限"})})})},qyChannel:function(e){var t=this;Object(s.c)(e.id,e.attributes.config.host,e.attributes.config.port,e.attributes.config.username,e.attributes.config.password,e.attributes.config.database,e.attributes.name,e.attributes.config.sql_length,e.attributes.config.connect,e.attributes.config.ssl,!e.attributes.isEnable).then(function(e){e&&(t.$message.success("状态更新成功"),t.Get_Re_Channel(0))}).catch(function(e){t.$message.error(e.error)})},updateChannel:function(e){var t=this;this.channelForm=!0,this.channelupdated="编辑";var a=l.a.Object.extend("Resource"),n=new l.a.Query(a);this.resourceid=e.id,n.get(e.id).then(function(e){"mongodb"!=e.attributes.resource_type&&"mysql"!=e.attributes.resource_type&&"postgresql"!=e.attributes.resource_type&&"influxdb"!=e.attributes.resource_type||(t.addchannel.region=e.attributes.resource_type,t.addchannel.postgresqlconnect=e.attributes.config.connect,t.addchannel.postgresqlhost=e.attributes.config.host,t.addchannel.postgresqlusername=e.attributes.config.username,t.addchannel.postgresqlpassword=e.attributes.config.password,t.addchannel.postgresqlport=e.attributes.config.port,t.addchannel.postgresqldatabase=e.attributes.config.database,t.addchannel.postgresqlssl="disable",t.addchannel.postgresqllength=e.attributes.config.sql_length,t.addchannel.postgresqlname=e.attributes.name,t.addchannel.isEnable=e.attributes.isEnable)},function(e){"209"==e.code?(t.$message({type:"warning",message:"登陆权限过期，请重新登录"}),t.$router.push({path:"/login"})):119==e.code&&t.$message({type:"error",message:"没有操作权限"})})},addchannelForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&""!=t.resourceid&&Object(s.c)(t.resourceid,t.addchannel.postgresqlhost,t.addchannel.postgresqlport,t.addchannel.postgresqlusername,t.addchannel.postgresqlpassword,t.addchannel.postgresqldatabase,t.addchannel.postgresqlname,t.addchannel.postgresqllength,t.addchannel.postgresqlconnect,t.addchannel.postgresqlssl,t.addchannel.isEnable).then(function(e){e&&(t.$message.success("编辑成功"),t.channelForm=!1,t.Get_Re_Channel(0))}).catch(function(e){t.$message.error(e)})})},addchanneltype:function(){this.channelForm=!0,this.channelupdated="新增"},testConnect:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return t.$message.error("有必填项未填写"),!1;console.log(t.$refs[e]),"mongodb"!=t.addchannel.region&&"mysql"!=t.addchannel.region&&"postgresql"!=t.addchannel.region&&"influxdb"!=t.addchanneltype.region||Object(s.a)(t.addchannel.region.toLowerCase(),t.addchannel.postgresqlhost,t.addchannel.postgresqlport,t.addchannel.postgresqlusername,t.addchannel.postgresqlpassword,t.addchannel.postgresqldatabase,t.addchannel.postgresqlname,t.addchannel.postgresqllength,t.addchannel.postgresqlconnect,t.addchannel.postgresqlssl).then(function(e){e&&t.$notify({title:"成功",message:"连接可用,通道已创建",type:"success",duration:2e3})}).catch(function(e){t.$notify({title:"连接不可用",message:e.reason,type:"error",duration:2e3})})})},handleClose:function(){this.addchannel={region:"HTTP",port:"",path:"",desc:"",kafkaclient:"127.0.0.1:9092",kafkametadata:"3s",kafkaduring:"3s",kafkakb:"1024KB",kafkays:"",kafkahc:"1024KB",postgresqlconnect:"",postgresqlhost:"",postgresqlusername:"",postgresqlpassword:"",postgresqlport:5432,postgresqldatabase:"postgres",postgresqlssl:"disable",postgresqllength:"",postgresqlname:"",isEnable:!0},this.channelForm=!1,this.resourceid=""},getChannelEnable:function(e,t){return 1==e.row.attributes.isEnable?"green_active":"red_active"},channelSizeChange:function(e){this.length=e},channelCurrentChange:function(e){this.start=(e-1)*this.length},removeauto:function(e){setTimeout(function(){for(var e=document.getElementsByClassName("notauto"),t=0;t<e.length;t++)e[t].children[0].removeAttribute("readonly")},100)},deleteChannel:function(e){var t=this;Object(s.b)(e.row.id).then(function(a){a&&(t.$message.error("删除成功"),e._self.$refs["popover-"+e.$index].doClose(),t.Get_Re_Channel(0))}).catch(function(e){t.$message.error(e)})}}},r=(a("GI3H"),a("vs1Z"),a("KHd+")),i=Object(r.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"resourcechannel"},[a("h3",[e._v("资源通道管理")]),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"资源通道("+e.total+")",name:"first"}},[a("div",{staticClass:"firsttable"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.channelformsearch,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入资源名称搜索"},model:{value:e.channelformsearch.name,callback:function(t){e.$set(e.channelformsearch,"name",t)},expression:"channelformsearch.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.Get_Re_Channel(0)}}},[e._v("搜 索")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.addchanneltype}},[e._v("创建通道")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.getChannelEnable}},[a("el-table-column",{attrs:{label:"通道编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"通道名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.attributes.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"启用状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.attributes.isEnable?a("span",{staticStyle:{color:"green"}},[e._v("已启用")]):a("span",[e._v("已禁用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"连接状态",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return["off"==t.row.attributes.status?a("span",{staticStyle:{color:"red"}},[e._v("未连接")]):a("span",{staticStyle:{color:"green"}},[e._v("已连接")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"通道地址",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.attributes.config.host))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.attributes.desc))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.attributes.isEnable?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){e.qyChannel(t.row)}}},[e._v("启用")]):a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.qyChannel(t.row)}}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.updateChannel(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-popover",{ref:"popover-"+t.$index,attrs:{placement:"top",width:"300"}},[a("p",[e._v("确定删除这个"+e._s(t.row.attributes.name)+"通道吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){t._self.$refs["popover-"+t.$index].doClose()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.deleteChannel(t)}}},[e._v("确定")])],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"elpagination",staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"page-sizes":[10,20,30,50],"page-size":e.length,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.channelSizeChange,"current-change":e.channelCurrentChange}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.channelupdated+"资源通道",visible:e.channelForm,width:"40%",top:"0","before-close":e.handleClose},on:{"update:visible":function(t){e.channelForm=t}}},[a("el-form",{ref:"addchannel",attrs:{model:e.addchannel,"label-width":"100px",rules:e.addrules}},[a("el-form-item",{staticClass:"lastchildren",attrs:{label:"服务类型",prop:"region"}},[a("el-select",{attrs:{placeholder:"请选择服务类型",disabled:""!=e.channelId},on:{change:function(t){e.removeauto("addchannel")}},model:{value:e.addchannel.region,callback:function(t){e.$set(e.addchannel,"region",t)},expression:"addchannel.region"}},e._l(e.channelregion,function(e,t){return a("el-option",{key:t,attrs:{label:e.name+e.channeltype,value:e.value}})}))],1),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka服务器","label-width":"200px",prop:"kafkahost",rules:[{required:!0,message:"kafa服务器不能为空",trigger:"blur"}]}},[[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("kafka服务器")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"kafka服务器"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)],e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"kafka服务器"},model:{value:e.addchannel.kafkahost,callback:function(t){e.$set(e.addchannel,"kafkahost",t)},expression:"addchannel.kafkahost"}})],2)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka端口","label-width":"200px",prop:"kafkaport",rules:[{required:!0,message:"kafka端口不能为空",trigger:"blur"},{validator:e.validPort}]}},[a("el-input",{attrs:{type:"text",placeholder:"kafka端口"},model:{value:e.addchannel.kafkaport,callback:function(t){e.$set(e.addchannel,"kafkaport",t)},expression:"addchannel.kafkaport"}})],1)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka资源名","label-width":"200px"}},[a("el-input",{attrs:{type:"text",placeholder:"kafka资源名"},model:{value:e.addchannel.kafkaname,callback:function(t){e.$set(e.addchannel,"kafkaname",t)},expression:"addchannel.kafkaname"}})],1)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka","label-width":"200px"}},[[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("Metadata更新间隔")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"Metadata更新间隔"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)],e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"Metadata更新间隔"},model:{value:e.addchannel.kafkametadata,callback:function(t){e.$set(e.addchannel,"kafkametadata",e._n(t))},expression:"addchannel.kafkametadata"}})],2)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka","label-width":"200px"}},[[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("同步调用间隔时间")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"同步调用间隔时间"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)],e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"同步调用间隔时间"},model:{value:e.addchannel.kafkaduring,callback:function(t){e.$set(e.addchannel,"kafkaduring",e._n(t))},expression:"addchannel.kafkaduring"}})],2)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka","label-width":"200px"}},[[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("最大批处理字节数")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"最大批处理字节数"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)],e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"最大批处理字节数"},model:{value:e.addchannel.kafkabatch,callback:function(t){e.$set(e.addchannel,"kafkabatch",e._n(t))},expression:"addchannel.kafkabatch"}})],2)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"acks","label-width":"200px"}},[a("el-select",{model:{value:e.addchannel.kafkaacks,callback:function(t){e.$set(e.addchannel,"kafkaacks",t)},expression:"addchannel.kafkaacks"}},[a("el-option",{attrs:{label:"all",value:"all"}}),e._v(" "),a("el-option",{attrs:{label:"0",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"1",value:"1"}})],1)],1)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka","label-width":"200px"}},[[a("span",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v("压缩")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"压缩"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)],e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"压缩"},model:{value:e.addchannel.kafkays,callback:function(t){e.$set(e.addchannel,"kafkays",t)},expression:"addchannel.kafkays"}})],2)],1):e._e(),e._v(" "),"kafka"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("el-form-item",{attrs:{label:"kafka","label-width":"200px"}},[a("template",{slot:"label"},[a("span",[a("span",[e._v("发送消息的缓冲区大小")]),e._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"发送消息的缓冲区大小"}},[a("i",{staticClass:"el-icon-question",staticStyle:{color:"#71737d"},attrs:{slot:"reference"},slot:"reference"})])],1)]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"发送消息的缓冲区大小"},model:{value:e.addchannel.kafkabuffer,callback:function(t){e.$set(e.addchannel,"kafkabuffer",e._n(t))},expression:"addchannel.kafkabuffer"}})],2)],1):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"服务器","label-width":"200px",prop:"postgresqlhost",rules:[{required:!0,message:"服务器不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"服务器"},model:{value:e.addchannel.postgresqlhost,callback:function(t){e.$set(e.addchannel,"postgresqlhost",t)},expression:"addchannel.postgresqlhost"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"端口","label-width":"200px",prop:"postgresqlport",rules:[{required:!0,message:"服务器端口不能为空",trigger:"blur"},{validator:e.validPort}]}},[a("el-input",{attrs:{type:"text",placeholder:"端口"},model:{value:e.addchannel.postgresqlport,callback:function(t){e.$set(e.addchannel,"postgresqlport",e._n(t))},expression:"addchannel.postgresqlport"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"用户名","label-width":"200px",prop:"postgresqlusername",rules:[{required:!0,message:"用户名不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"用户名",readonly:""},model:{value:e.addchannel.postgresqlusername,callback:function(t){e.$set(e.addchannel,"postgresqlusername",t)},expression:"addchannel.postgresqlusername"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"密码","label-width":"200px",prop:"postgresqlpassword",rules:[{required:!0,message:"密码不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"notauto readonly",attrs:{type:e.pwdType,placeholder:"密码",readonly:""},model:{value:e.addchannel.postgresqlpassword,callback:function(t){e.$set(e.addchannel,"postgresqlpassword",t)},expression:"addchannel.postgresqlpassword"}},[a("template",{slot:"append"},[a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{"icon-class":e.isopen}})],1)])],2)],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"database","label-width":"200px",prop:"postgresqldatabase",rules:[{required:!0,message:"database不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"database",readonly:""},model:{value:e.addchannel.postgresqldatabase,callback:function(t){e.$set(e.addchannel,"postgresqldatabase",t)},expression:"addchannel.postgresqldatabase"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"批量写入大小","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"批量写入大小",readonly:"",autocomplete:"off"},model:{value:e.addchannel.postgresqllength,callback:function(t){e.$set(e.addchannel,"postgresqllength",e._n(t))},expression:"addchannel.postgresqllength"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"资源名","label-width":"200px"}},[a("el-input",{attrs:{type:"text",placeholder:"资源名"},model:{value:e.addchannel.postgresqlname,callback:function(t){e.$set(e.addchannel,"postgresqlname",t)},expression:"addchannel.postgresqlname"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"连接数","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{placeholder:"连接数",readonly:"",autocomplete:"off",type:"number"},model:{value:e.addchannel.postgresqlconnect,callback:function(t){e.$set(e.addchannel,"postgresqlconnect",e._n(t))},expression:"addchannel.postgresqlconnect"}})],1)],1)]):e._e(),e._v(" "),"postgresql"==e.addchannel.region||"mongodb"==e.addchannel.region||"mysql"==e.addchannel.region||"influxdb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"开始SSL","label-width":"200px"}},[a("el-select",{model:{value:e.addchannel.postgresqlssl,callback:function(t){e.$set(e.addchannel,"postgresqlssl",t)},expression:"addchannel.postgresqlssl"}},[a("el-option",{attrs:{label:"disable",value:"disable"}}),e._v(" "),a("el-option",{attrs:{label:"require",value:"require"}}),e._v(" "),a("el-option",{attrs:{label:"verify-ca",value:"verify-ca"}}),e._v(" "),a("el-option",{attrs:{label:"verify-full",value:"verify-full"}})],1)],1)],1)]):e._e(),e._v(" "),"HTTP"==e.addchannel.region?a("div",[a("el-form-item",{staticClass:"notlastchildren",attrs:{label:"端口",prop:"port",rules:[{required:!0,message:"端口不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入通道端口"},model:{value:e.addchannel.port,callback:function(t){e.$set(e.addchannel,"port",t)},expression:"addchannel.port"}})],1)],1):e._e(),e._v(" "),"HTTP"==e.addchannel.region?a("div",[a("el-form-item",{staticClass:"notlastchildren",attrs:{label:"路径",prop:"path",rules:[{required:!0,message:"需要输入正确的url",trigger:"blur"}]}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入通道路径"},model:{value:e.addchannel.path,callback:function(t){e.$set(e.addchannel,"path",t)},expression:"addchannel.path"}})],1)],1):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"区域","label-width":"200px",prop:"dynamodbhost",rules:[{required:!0,message:"服务器不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"服务器"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:e.addchannel.region+"服务器","label-width":"200px",prop:"dynamodbhost",rules:[{required:!0,message:"服务器不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"服务器"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"连接池大小","label-width":"200px",prop:"dynamodbhost",rules:[{required:!0,message:"连接池大小不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"连接池大小"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"连接访问ID","label-width":"200px",prop:"dynamodbhost",rules:[{required:!0,message:"连接访问ID不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"连接访问ID"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"连接访问密钥","label-width":"200px",prop:"dynamodbhost",rules:[{required:!0,message:"连接访问密钥不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"连接访问密钥"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"dynamodb"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"自动重连间隔","label-width":"200px"}},[a("el-input",{attrs:{type:"text",placeholder:"自动重连间隔"},model:{value:e.addchannel.dynamodbhost,callback:function(t){e.$set(e.addchannel,"dynamodbhost",t)},expression:"addchannel.dynamodbhost"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"RabbitMq服务器","label-width":"200px",prop:"rabbitmqhost",rules:[{required:!0,message:"RabbitMq服务器不能为空",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"RabbitMq服务器"},model:{value:e.addchannel.rabbitmqhost,callback:function(t){e.$set(e.addchannel,"rabbitmqhost",t)},expression:"addchannel.rabbitmqhost"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"连接池大小","label-width":"200px",prop:"rabbitmqconnect",rules:[{required:!0,message:"连接池大小",trigger:"blur"}]}},[a("el-input",{attrs:{type:"text",placeholder:"连接池大小"},model:{value:e.addchannel.rabbitmqconnect,callback:function(t){e.$set(e.addchannel,"rabbitmqconnect",t)},expression:"addchannel.rabbitmqconnect"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"用户名","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"用户名",readonly:""},model:{value:e.addchannel.rabbitmqusername,callback:function(t){e.$set(e.addchannel,"rabbitmqusername",t)},expression:"addchannel.rabbitmqusername"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"密码","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"密码",readonly:""},model:{value:e.addchannel.rabbitmqpassword,callback:function(t){e.$set(e.addchannel,"rabbitmqpassword",t)},expression:"addchannel.rabbitmqpassword"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"连接超时时间","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"连接超时时间",readonly:""},model:{value:e.addchannel.rabbitmqtimeout,callback:function(t){e.$set(e.addchannel,"rabbitmqtimeout",t)},expression:"addchannel.rabbitmqtimeout"}},[a("template",{slot:"append"},[e._v("s")])],2)],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"虚拟主机","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"虚拟主机",readonly:""},model:{value:e.addchannel.rabbitmqinvented,callback:function(t){e.$set(e.addchannel,"rabbitmqinvented",t)},expression:"addchannel.rabbitmqinvented"}})],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"心跳间隔","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"心跳间隔",readonly:""},model:{value:e.addchannel.rabbitmqtimeout,callback:function(t){e.$set(e.addchannel,"rabbitmqtimeout",t)},expression:"addchannel.rabbitmqtimeout"}},[a("template",{slot:"append"},[e._v("s")])],2)],1)],1)]):e._e(),e._v(" "),"rabbitmq"==e.addchannel.region?a("div",{staticClass:"notlastchildren notline"},[a("div",[a("el-form-item",{attrs:{label:"自动重连间隔","label-width":"200px"}},[a("el-input",{staticClass:"notauto",attrs:{type:"text",placeholder:"自动重连间隔",readonly:""},model:{value:e.addchannel.rabbitmqautoconnect,callback:function(t){e.$set(e.addchannel,"rabbitmqautoconnect",t)},expression:"addchannel.rabbitmqautoconnect"}},[a("template",{slot:"append"},[e._v("s")])],2)],1)],1)]):e._e(),e._v(" "),a("el-form-item",{staticClass:"lastchildren",attrs:{label:"通道描述"}},[a("el-input",{attrs:{autocomplete:"off",type:"textarea",rows:3,placeholder:"请输入通道描述"},model:{value:e.addchannel.desc,callback:function(t){e.$set(e.addchannel,"desc",t)},expression:"addchannel.desc"}})],1),e._v(" "),a("el-form-item",{staticClass:"lastchildren"},[a("el-button",{attrs:{type:"success",size:"medium"},on:{click:function(t){e.testConnect("addchannel")}}},[e._v("测试连接")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addchannelForm("addchannel")}}},[e._v("确 定")])],1)],1)],1)],1)},[],!1,null,"13d90f57",null);i.options.__file="resourcechannel.vue";t.default=i.exports},GI3H:function(e,t,a){"use strict";var n=a("kxBR");a.n(n).a},URgk:function(e,t,a){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,l=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(l.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new s(l.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("yLpj"))},UoIT:function(e,t,a){},YBdB:function(e,t,a){(function(e,t){!function(e,a){"use strict";if(!e.setImmediate){var n,l=1,s={},o=!1,r=e.document,i=Object.getPrototypeOf&&Object.getPrototypeOf(e);i=i&&i.setTimeout?i:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}()?function(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"==typeof a.data&&0===a.data.indexOf(t)&&c(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(a){e.postMessage(t+a,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():r&&"onreadystatechange"in r.createElement("script")?function(){var e=r.documentElement;n=function(t){var a=r.createElement("script");a.onreadystatechange=function(){c(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}():n=function(e){setTimeout(c,0,e)},i.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var o={callback:e,args:t};return s[l]=o,n(l),l++},i.clearImmediate=d}function d(e){delete s[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=s[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n)}}(t)}finally{d(e),o=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,a("yLpj"),a("8oxB"))},kxBR:function(e,t,a){},tfr4:function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return o});var n=a("t3Un");function l(e,t,a,l,s,o,r,i,d,c){return Object(n.a)({url:"/resource/"+e,method:"post",data:{host:t,port:a,username:l,password:s,database:o,name:r,sql_length:i,connect:d,ssl:c}})}function s(e,t,a,l,s,o,r,i,d,c,h){return Object(n.a)({url:"/resource/edit/"+e,method:"put",data:{host:t,port:a,username:l,password:s,database:o,name:r,sql_length:i,connect:d,ssl:c,isEnable:h}})}function o(e){return Object(n.a)({url:"/resource/edit/"+e,method:"delete",data:{}})}},vs1Z:function(e,t,a){"use strict";var n=a("UoIT");a.n(n).a}}]);